<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Help.Bettermeans - Testing webhooks</title>
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen" charset="utf-8"/>
    <link rel="stylesheet" href="/css/print.css" type="text/css" media="print">
  </head>

  <body>
    
      <script type="text/javascript">var main_category = "troubleshooting"</script>
    
    <div id="main">
      <div id="header" class="basic">
        <div class="site">
          <div class="logo boring">
            <a href="/"><img src="/images/help.github.png" alt="bettermeans learn logo" /></a>
          </div>
          <div class="topsearch">
            <ul class="nav logged_out">
              <!-- <li><a href="http://gitref.org/">Git Reference</a></li>
              <li><a href="http://bettermeans.com/bettermeans/help.bettermeans.com#readme">Contribute</a></li>
              <li><a href="http://support.bettermeans.com/">Support</a></li> -->
              <li><a href="http://bettermeans.com/">Back to Bettermeans</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div id="content" class="site">
        <div id="guides">
          <div class="guide">
            <div class="main">
              <h1>Testing webhooks</h1>

              <div class="wikistyle">
                <p>Testing that a webhook works can be a bit of a pain.  Thankfully with the help of <a href="http://www.postbin.org/">PostBin</a> the pain can be avoided.</p>
<h2>When hooks are fired</h2>
<p>First and foremost, webhooks are not always called when a push is made.  Currently hooks only fire when a branch that exists on GitHub is modified.  Pushing new branches, deleting branches, and creating tags will not fire a webhook.  Forced pushes such as <code>git push origin master --force</code> may not predictably call hooks as well.  To ensure your commits are sent to your webhook, always push the branch when it is created before you commit.  This way the branch exists on GitHub when you push the commits you want sent to the webhook.</p>
<h2>Setting up</h2>
<p>First, visit <a href="http://www.postbin.org/">PostBin</a> and click &#8220;Make a PostBin&#8221;.  Copy the <span class="caps">URL</span> you are sent to:</p>
<p><img src="http://img.skitch.com/20091118-jp5jt8gtcxy8dn2w3kk1xkpt8j.jpg" alt="" /></p>
<p>Paste this <span class="caps">URL</span> into your repo&#8217;s post-receive URLs setting and save:</p>
<p><img src="http://img.skitch.com/20091118-nr8ggc3rgdq8i1r2x8ad1mm57r.jpg" alt="" /></p>
<h2>Testing the hook is fired</h2>
<p>To test that the hook fires we need an existing branch on the GitHub repo.  In this example we create a new repo, push one commit, then make another commit and push it.  We only expect the second push to be sent to our PostBin.</p>
<pre class="terminal">[tekkub@tekBook: ~/tmp] $ mkdir test_post
[tekkub@tekBook: ~/tmp] $ cd test_post
[tekkub@tekBook: ~/tmp/test_post] $ git init
Initialized empty Git repository in /Users/tekkub/tmp/test_post/.git/

[tekkub@tekBook: ~/tmp/test_post master#] $ touch README
[tekkub@tekBook: ~/tmp/test_post master#] $ git add README
[tekkub@tekBook: ~/tmp/test_post master#] $ git commit -m 'first commit'
[master (root-commit) 94afb6c] first commit
 0 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 README

[tekkub@tekBook: ~/tmp/test_post master] $ git remote add origin git@github.com:tekkub/test_post.git
[tekkub@tekBook: ~/tmp/test_post master] $ git push origin master
Counting objects: 3, done.
Writing objects: 100% (3/3), 201 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To git@github.com:tekkub/test_post.git
 * [new branch]      master -&gt; master

[tekkub@tekBook: ~/tmp/test_post master] $ echo "This is a real edit" &gt; README
[tekkub@tekBook: ~/tmp/test_post master*] $ git add README
[tekkub@tekBook: ~/tmp/test_post master+] $ git commit -m 'second commit'
[master a58cf12] second commit
 1 files changed, 1 insertions(+), 0 deletions(-)

[tekkub@tekBook: ~/tmp/test_post master] $ git push origin master
Counting objects: 5, done.
Writing objects: 100% (3/3), 249 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To git@github.com:tekkub/test_post.git
   94afb6c..a58cf12  master -&gt; master</pre>
<p>Now that we&#8217;ve pushed a commit that should be sent to our webhook, lets check if it did by reloading our PostBin page:</p>
<p><img src="http://img.skitch.com/20091118-rgxb1rx3aixqfdk4sm5wtaw4t7.jpg" alt="" /></p>
<p>Success!</p>
              </div>
            </div>

            <div class="sidebar">
              
                <h3>Getting started</h3>
                  <ul id="categories">
                    
                  </ul>
              
                <h3>Guides</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/voting" id="guides">Dashboard</a></li>
                      
                    
                  </ul>
              
                <h3>Faq</h3>
                  <ul id="categories">
                    
                  </ul>
              
                <h3>Popular</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/forking" id="popular">Forking a project</a></li>
                      
                    
                      
                        <li><a href="/key-setup-redirect" id="popular">Generating SSH keys</a></li>
                      
                    
                      
                        <li><a href="/troubleshooting-common-issues" id="popular">Common issues and questions</a></li>
                      
                    
                      
                        <li><a href="/troubleshooting-ssh" id="popular">Troubleshooting SSH issues</a></li>
                      
                    
                      
                        <li><a href="/git-email-settings" id="popular">Setting user name, email and GitHub token</a></li>
                      
                    
                      
                        <li><a href="/removing-sensitive-data" id="popular">Removing sensitive data</a></li>
                      
                    
                      
                        <li><a href="/voting" id="popular">Dashboard</a></li>
                      
                    
                  </ul>
              
            </div>
          </div>
        </div>
      </div>
      <div class="push"></div>
    </div>

    <div id="footer">
      <div class="site">

        <div class="info">
          <div class="links">
            <a href="http://bettermeans.org/front/?cat=3"><b>Blog</b></a> |
            <a href="http://bettermeans.org/front/?page_id=284">Contact</a> |
            <a href="http://twitter.com/bettermeans">Twitter</a> |
            <a href="http://bettermeans.com/front/user_agreement.html">Terms of Service</a> | 
            <a href="http://bettermeans.com/front/privacy.html">Privacy Policy</a>
          </div>
          <div class="company">
           &copy;&copy;
            2010
            Bettermeans LLC.
            <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/" rel="license">
            Creative Commons Attribution-Noncommercial-Share Alike 3.0 License</a>
           
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
