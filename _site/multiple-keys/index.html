<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Help.GitHub - Multiple SSH keys</title>
    <link href="http://github.com/stylesheets/bundle_common.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://github.com/stylesheets/bundle_github.css" media="screen" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen" charset="utf-8"/>
    <link rel="stylesheet" href="/css/print.css" type="text/css" media="print">
  </head>

  <body>
    
      
        <script type="text/javascript">var main_category = "other"</script>
      
    
    <div id="main">
      <div id="header" class="basic">
        <div class="site">
          <div class="logo boring">
            <a href="/"><img src="/images/help.github.png" alt="github learn logo" /></a>
          </div>
          <div class="topsearch">
            <ul class="nav logged_out">
              <li><a href="http://gitref.org/">Git Reference</a></li>
              <li><a href="http://github.com/github/help.github.com#readme">Contribute</a></li>
              <li><a href="http://support.github.com/">Support</a></li>
              <li><a href="http://github.com/">Back to GitHub</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div id="content" class="site">
        <div id="guides">
          <div class="guide">
            <div class="main">
              <h1>Multiple SSH keys</h1>

              <div class="wikistyle">
                <p>This guide assumes you have already created two keypairs and attached them to different GitHub user accounts. For this example we will be using <code>~/.ssh/id_rsa</code> attached to the user <code>joe</code> and <code>~/.ssh/id_rsa_client</code> attached to the user <code>client</code>.</p>

<h1 id='adding_your_keys_to_ssh'>Adding your keys to SSH</h1>

<p>The first keypair, <code>~/.ssh/id_rsa</code>, uses a default name, so we don&#8217;t need to do anything special to make SSH use this pair. The second pair, however, is not a default name. Therefore, we need to tell ssh about it so that it can use it:</p>
<pre class='terminal'>ssh-add ~/.ssh/id_rsa_client</pre>
<p>If the keypair has a passphrase on it (it should!), <code>ssh-add</code> will ask you to enter the passphrase. After you have done this, the key will be available from ssh-agent so you won&#8217;t have to re-enter the passphrase every time you use it.</p>

<h1 id='configuring_ssh'>Configuring SSH</h1>

<p>Once SSH has access to both keys, you need to tell it which key to use for which server. In most cases you can assume that SSH will fall back to <code>~/.ssh/id_rsa</code> by default, but we&#8217;re going to force it anyway. To begin, open <code>~/.ssh/config</code> in your favorite editor.</p>
<div class='highlight'><pre><code class='bash'><span class='c'># Default GitHub user (joe)</span>
Host github.com
  HostName github.com
  User git
  IdentityFile /Users/joe/.ssh/id_rsa

<span class='c'># Client user (client)</span>
Host github-client
  HostName github.com
  User git
  IdentityFile /Users/joe/.ssh/id_rsa_client
</code></pre>
</div>
<p>In short what this does is tells SSH to use the client key when connecting to the server github-client, which is really github.com.</p>

<h1 id='using_the_second_key'>Using the second key</h1>

<p>From here on, everything is the same as everyday use except for one component, the domain name. When working on a repo owned by the primary account, we would use a command like:</p>
<pre class='terminal'>git clone git@github.com:joe/my_repo.git</pre>
<p>When we want to use the second account&#8217;s key, however, we need to change the domain name. Doing so will use the settings in <code>~/.ssh/config</code> to override the defaults.</p>
<pre class='terminal'>git clone git@github-client:client/his_repo.git</pre>
              </div>
            </div>

            <div class="sidebar">
              
                <h3>Setup</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/git-installation-redirect" id="setup">Installing git</a></li>
                      
                    
                      
                        <li><a href="/key-setup-redirect" id="setup">Generating SSH keys</a></li>
                      
                    
                      
                        <li><a href="/troubleshooting-ssh" id="setup">Troubleshooting SSH issues</a></li>
                      
                    
                      
                        <li><a href="/git-email-settings" id="setup">Setting user name, email and GitHub token</a></li>
                      
                    
                      
                        <li><a href="/working-with-key-passphrases" id="setup">Working with SSH key passphrases</a></li>
                      
                    
                      
                        <li><a href="/dealing-with-lineendings" id="setup">Dealing with line endings</a></li>
                      
                    
                      
                        <li><a href="/managing-clients" id="setup">Managing multiple clients</a></li>
                      
                    
                      
                        <li><a href="/svn-importing" id="setup">Importing from Subversion</a></li>
                      
                    
                  </ul>
              
                <h3>Troubleshooting</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/troubleshooting-common-issues" id="troubleshooting">Common issues and questions</a></li>
                      
                    
                      
                        <li><a href="/troubleshooting-ssh" id="troubleshooting">Troubleshooting SSH issues</a></li>
                      
                    
                      
                        <li><a href="/egit-corruption" id="troubleshooting">Fixing egit corruption</a></li>
                      
                    
                      
                        <li><a href="/testing-webhooks" id="troubleshooting">Testing webhooks</a></li>
                      
                    
                      
                        <li><a href="/firewalls-and-proxies" id="troubleshooting">Dealing with firewalls and proxies</a></li>
                      
                    
                  </ul>
              
                <h3>Repos</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/creating-a-repo" id="repos">Creating a repo</a></li>
                      
                    
                      
                        <li><a href="/deleting-a-repo" id="repos">Deleting a repo</a></li>
                      
                    
                      
                        <li><a href="/moving-a-repo" id="repos">Moving a repo</a></li>
                      
                    
                  </ul>
              
                <h3>Collaborating</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/forking" id="collaborating">Forking a project</a></li>
                      
                    
                      
                        <li><a href="/post-receive-hooks" id="collaborating">Post-Receive Hooks</a></li>
                      
                    
                      
                        <li><a href="/testing-webhooks" id="collaborating">Testing webhooks</a></li>
                      
                    
                      
                        <li><a href="/managing-clients" id="collaborating">Managing multiple clients</a></li>
                      
                    
                      
                        <li><a href="/pull-requests" id="collaborating">Sending pull requests</a></li>
                      
                    
                  </ul>
              
                <h3>Everyday git</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/remotes" id="everyday_git">Working with remotes</a></li>
                      
                    
                      
                        <li><a href="/git-ignore" id="everyday_git">Ignoring files</a></li>
                      
                    
                      
                        <li><a href="/rebase" id="everyday_git">All your rebase</a></li>
                      
                    
                      
                        <li><a href="/git-cheat-sheets" id="everyday_git">Git cheat sheets</a></li>
                      
                    
                  </ul>
              
                <h3>Git ninjutsu</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/removing-sensitive-data" id="git_ninjutsu">Removing sensitive data</a></li>
                      
                    
                      
                        <li><a href="/splitting-a-subpath-to-a-new-repo" id="git_ninjutsu">Splitting a subpath out into a new repo</a></li>
                      
                    
                      
                        <li><a href="/subtree-merge" id="git_ninjutsu">Working with subtree merge</a></li>
                      
                    
                      
                        <li><a href="/changing-author-info" id="git_ninjutsu">Changing author info</a></li>
                      
                    
                  </ul>
              
                <h3>Deploying</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/deploy-keys" id="deploying">Understanding deploy keys</a></li>
                      
                    
                      
                        <li><a href="/capistrano" id="deploying">Deploying with Capistrano</a></li>
                      
                    
                  </ul>
              
                <h3>Mac</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/mac-git-installation" id="mac">Installing git (OSX)</a></li>
                      
                    
                      
                        <li><a href="/mac-key-setup" id="mac">Generating SSH keys (OSX)</a></li>
                      
                    
                      
                        <li><a href="/working-with-key-passphrases" id="mac">Working with SSH key passphrases</a></li>
                      
                    
                      
                        <li><a href="/dealing-with-lineendings" id="mac">Dealing with line endings</a></li>
                      
                    
                      
                        <li><a href="/textmate" id="mac">Textmate</a></li>
                      
                    
                  </ul>
              
                <h3>Windows</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/win-git-installation" id="windows">Installing git (Win/msysgit)</a></li>
                      
                    
                      
                        <li><a href="/msysgit-key-setup" id="windows">Generating SSH keys (Win/msysgit)</a></li>
                      
                    
                      
                        <li><a href="/working-with-key-passphrases" id="windows">Working with SSH key passphrases</a></li>
                      
                    
                      
                        <li><a href="/dealing-with-lineendings" id="windows">Dealing with line endings</a></li>
                      
                    
                  </ul>
              
                <h3>Linux</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/linux-git-installation" id="linux">Installing git (Linux)</a></li>
                      
                    
                      
                        <li><a href="/linux-key-setup" id="linux">Generating SSH keys (Linux)</a></li>
                      
                    
                      
                        <li><a href="/dealing-with-lineendings" id="linux">Dealing with line endings</a></li>
                      
                    
                  </ul>
              
                <h3>Other</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/git-html-help" id="other">Installing Git HTML help</a></li>
                      
                    
                      
                        <li><a href="/userscripts-and-bookmarklets" id="other">Userscripts and Bookmarklets</a></li>
                      
                    
                      
                        <li><a href="/api" id="other">GitHub API</a></li>
                      
                    
                      
                        <li>Multiple SSH keys</li>
                      
                    
                  </ul>
              
                <h3>Site policy</h3>
                  <ul id="categories">
                    
                      
                        <li><a href="/security" id="site_policy">GitHub Security</a></li>
                      
                    
                      
                        <li><a href="/privacy" id="site_policy">GitHub Privacy Policy</a></li>
                      
                    
                      
                        <li><a href="/terms" id="site_policy">GitHub Terms of Service</a></li>
                      
                    
                      
                        <li><a href="/dmca" id="site_policy">DMCA Takedown</a></li>
                      
                    
                  </ul>
              
            </div>
          </div>
        </div>
      </div>
      <div class="push"></div>
    </div>

    <div id="footer">
      <div class="site">

        <div class="info">
          <div class="links">
            <a href="http://github.com/blog"><b>Blog</b></a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://develop.github.com">API</a> |
            <a href="http://status.github.com">Status</a> |
            <a href="http://twitter.com/github">Twitter</a> |
            <a href="http://gitref.org">Learn</a> |
            <a href="http://github.com/security">Security</a>
          </div>
          <div class="company">
           &copy;
            2010
            GitHub Inc.
            All rights reserved.
           | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
